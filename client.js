const us=Object.fromEntries(["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].map(e=>[e,1])),ca=Object.fromEntries(["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"].map(e=>[e,1])),audienceSynonyms={LGBT:"LGBTQIA+","LGBTIQ+ only":"LGBTQIA+","Men only":"Men","Women Only":"Women","Female only":"Women"};function flag(e,a){let n=[e];"na"==e?(a=a.replace(/.*, /,""),n=us[a]?["us"]:ca[a]?["ca"]:["us","ca"]):"aus"==e?n=["au"]:"uk"==e&&(n=["gb"]);const t=document.createElement("div");return t.className="flagwrapper",n.forEach(e=>{var a=document.createElement("img");a.src=`img/${e}.svg`,a.className="flag",t.appendChild(a)}),t}function partsToDiv(e){const n=document.createElement("div");return e.forEach(e=>{var a;"literal"==e.type?n.append(e.value):((a=document.createElement("span")).className=e.type.replace(/([A-Z])/,e=>"-"+e.toLowerCase()),a.append(e.value),n.appendChild(a))}),n}function render(){var a=document.createElement("table");const n=document.createElement("tr");["Country","Time","Details","Location","Facilitator"].forEach(e=>{var a=document.createElement("th");a.append(e),n.appendChild(a)}),a.appendChild(n);var t=Intl.DateTimeFormat(void 0,{timeStyle:"short"}),d=Intl.DateTimeFormat(void 0,{weekday:"long",month:"long",day:"numeric"});const o=document.getElementById("program").value,r=document.getElementById("audience").value,i=document.getElementById("language").value,c=document.getElementById("includehybrid").checked;var l=data.filter(e=>(!o||e.program==o||"4-Point Recovery"==o&&("SMART Recovery"==e.program||"Standard"==e.program))&&(!r||e.audience.map(e=>audienceSynonyms[e]||e).includes(r))&&(!i||e.language==i)&&(c||"Online"==e.type)).sort((e,a)=>e.time.localeCompare(a.time)),e=[],e=(o&&e.push("program="+encodeURIComponent(o)),r&&e.push("audience="+encodeURIComponent(r)),i&&e.push("language="+encodeURIComponent(i)),c&&e.push("includehybrid=1"),"?"+e.join("&"));history.replaceState(null,"",e);for(let e of l){var m=document.createElement("tr"),p=document.createElement("td"),p=(p.appendChild(flag(e.dataSource,e.location)),m.appendChild(p),document.createElement("td")),s=new Date(e.time),u=partsToDiv(t.formatToParts(s)),u=(u.className="time",p.appendChild(u),d.formatToParts(s)),s=(" "==u[3].value&&(u[3].value="Â "),partsToDiv(u)),u=(s.className="date",p.appendChild(s),m.appendChild(p),document.createElement("td")),s=(u.className="details",document.createElement("div"));s.append(e.program),u.appendChild(s);const h=document.createElement("div");e.audience.forEach((e,a)=>{var n=document.createElement("span");n.append(e),0<a&&h.append(", "),h.appendChild(n)}),u.appendChild(h);p=document.createElement("div"),s=(p.append(e.language),u.appendChild(p),m.appendChild(u),document.createElement("td")),p=(s.className="location",document.createElement("td"));"Online"==e.type?((u=document.createElement("div")).append(e.type),s.appendChild(u),u=document.createElement("div"),"National"!=e.location&&(u.className="host"),u.append(e.location),s.appendChild(u)):((u=document.createElement("div")).append(e.location),s.appendChild(u),(u=document.createElement("div")).append("+ Online"),s.appendChild(u)),p.append(e.facilitator),m.appendChild(s),m.appendChild(p),m.addEventListener("click",()=>window.open(e.href)),m.className="meeting",e.canceled&&m.classList.add("canceled"),a.appendChild(m)}document.getElementById("results").replaceChildren(a)}function init(){const n=document.getElementById("program");["",...Object.keys(Object.fromEntries(data.map(e=>[e.program,1]))).filter(e=>"SMART Recovery"!=e&&"Standard"!=e).sort()].forEach(e=>{var a=document.createElement("option");(a.value=e)&&a.append(e),n.appendChild(a)});const t=document.getElementById("audience"),d=(["",...Object.keys(Object.fromEntries(data.flatMap(e=>e.audience).map(e=>[e,1]))).sort().filter(e=>!audienceSynonyms[e])].forEach(e=>{var a=document.createElement("option");(a.value=e)&&a.append(e),t.appendChild(a)}),document.getElementById("language"));["",...Object.keys(Object.fromEntries(data.map(e=>[e.language,1]))).sort()].forEach(e=>{var a=document.createElement("option");(a.value=e)&&a.append(e),d.appendChild(a)}),d.value="English",n.addEventListener("change",render),t.addEventListener("change",render),d.addEventListener("change",render),document.getElementById("includehybrid").addEventListener("change",render)}init(),render();
//# sourceMappingURL=client.js.map